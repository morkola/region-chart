(function(t){function e(e){for(var n,r,l=e[0],o=e[1],c=e[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"159d":function(t,e,a){"use strict";a("315c")},"315c":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("b0c0"),a("075a"),a("450d");var n=a("72aa"),i=a.n(n),s=(a("3c52"),a("0d7b")),r=a.n(s),l=(a("fe07"),a("6ac5")),o=a.n(l),c=(a("6611"),a("e772")),u=a.n(c),d=(a("5466"),a("ecdf")),p=a.n(d),v=(a("38a0"),a("ad41")),g=a.n(v),f=(a("1f1a"),a("4e4b")),m=a.n(f),_=(a("e623"),a("e379"),a("5dc8"),a("37e1"),a("e37d")),h=a("2b0e"),b=a("2d7e"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},k=[],C=document.documentElement.offsetHeight,w={name:"App",created:function(){setInterval((function(){C!==document.documentElement.offsetHeight&&(C=document.documentElement.offsetHeight,window.top.postMessage(JSON.stringify({event:"updateHeight",data:C+"px"}),"*"))}),100)}},R=w,x=(a("5c0b"),a("2877")),O=Object(x["a"])(R,y,k,!1,null,null,null),j=O.exports,D=a("8c4f"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Map")},A=[],F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?t._e():a("div",{ref:"mapDiv",staticClass:"map"},[a("SvgPanZoom",{key:t.ratingField+t.selectedFed,staticClass:"map-container",attrs:{zoomEnabled:!1,dblClickZoomEnabled:!1,preventMouseEventsDefault:!1,contain:!0,zoomScaleSensitivity:.1},on:{svgpanzoom:t.registerSvgPanZoom,onZoom:t.clearOver}},[a("svg",{attrs:{width:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"-20 0 1234.449 760.6203"}},[t._l(t.coloredRegions,(function(e,n){return a("path",{key:e.title+n,ref:"path",refInFor:!0,class:{hover:e.title===t.overReg,disable:e.disable},style:{fill:e.fill,stroke:e.stroke},attrs:{title:e.title,d:e.d,transform:e.transform,id:"path-"+n},on:{mouseover:function(a){return t.onOver(e,n,a)},mouseout:function(e){return t.onOver(null,n)},mouseleave:function(e){return t.onOver(null,n)},click:function(a){return t.goToRegion(e)}}})})),a("g",t._l(t.showCenters,(function(e,n){return a("g",{key:"text-"+n},[a("circle",{staticClass:"point-circle",class:{hover:e.elem.title===t.overReg},attrs:{stroke:"#535dea",cx:e.x,cy:e.y-4,r:"13"},on:{mouseover:function(a){return t.onOver(e.elem,n,a)},mouseout:function(e){return t.onOver(null,n)},mouseleave:function(e){return t.onOver(null,n)},click:function(a){return t.goToRegion(e.elem)}}}),a("text",{staticClass:"point-text",class:{hover:e.elem.title===t.overReg},attrs:{x:e.x,y:e.y}},[t._v(" "+t._s(e.elem[t.ratingField])+" ")])])})),0)],2)]),a("div",{staticClass:"map-rating",style:{background:"linear-gradient(90deg, "+t.colorArr[0]+" 0%, "+t.colorArr[t.colorArr.length-1]+" 100%)"}},[a("div",{staticClass:"rating-container"},[a("div",{staticClass:"rating-title"},[t._v(t._s(t.ratingField))]),a("div",{staticClass:"rating-start"},[t._v("1")]),a("div",{staticClass:"rating-end"},[t._v(" "+t._s(t.ratingFieldTitle?t.regionDataArr.length:t.maxRating)+" ")])])]),t.showTooltip&&t.selectedRegion?a("div",{key:t.selectedRegion.title,staticClass:"map-info",on:{click:t.clearOver}},[a("h3",{staticClass:"rating-selected-title"},[a("div",{staticClass:"rating-number",style:{backgroundColor:t.selectedRegion[t.ratingField]?void 0:"#d0d0d0",color:t.selectedRegion[t.ratingField]?void 0:"#fefefe"}},[t._v(" "+t._s(t.selectedRegion[t.ratingField]||"-")+" ")]),t._v(" "+t._s(t.selectedRegion.title)+" ")]),a("div",{staticClass:"tooltip-content"},[0===t.ratingType||1===t.ratingType?a("div",{staticClass:"tooltip-items"},[a("div",{staticClass:"tooltip-item"},[t._v(" Задач поставлено "),a("span",{staticClass:"tooltip-item-val"},[t._v(t._s(t.selectedRegion["Задач поставлено"]||"-"))])]),a("div",{staticClass:"tooltip-item"},[t._v(" Задач отобрано "),a("span",{staticClass:"tooltip-item-val"},[t._v(t._s(t.selectedRegion["Задач отобрано"]||"-"))])]),a("div",{staticClass:"tooltip-item"},[t._v(" Задач решено "),a("span",{staticClass:"tooltip-item-val"},[t._v(t._s(t.selectedRegion["Задач решено"]||"-"))])])]):t._e(),0===t.ratingType||2===t.ratingType?a("div",{staticClass:"tooltip-items"},[a("div",{staticClass:"tooltip-item"},[t._v(" Решений внедрено "),a("span",{staticClass:"tooltip-item-val"},[t._v(t._s(t.selectedRegion["Задач внедрено"]||"-"))])]),a("div",{staticClass:"tooltip-item"},[t._v(" Цифровой наставник "),t.selectedRegion["Цифровой наставник"]?a("span",{staticClass:"tooltip-item-val"},[t._v("по "+t._s(t.selectedRegion["Цифровой наставник"])+" "+t._s(t.declOfNum(t.selectedRegion["Цифровой наставник"],["задаче","задачам","задачам"]))+" ")]):a("span",{staticClass:"tooltip-item-val"},[t._v("-")])]),a("div",{staticClass:"tooltip-item"},[t._v(" Разместил цифровую практику на СМАРТЕКЕ "),a("span",{staticClass:"tooltip-item-val"},[t._v(t._s(t.selectedRegion["Разместил цифровую практику на СМАРТЕКЕ"]||"-"))])])]):t._e(),0===t.ratingType||3===t.ratingType?a("div",{staticClass:"tooltip-items"},[a("div",{staticClass:"tooltip-item"},[t._v(" Data-хакатоны "),t.selectedRegion["Data-хакатоны"]?a("span",{staticClass:"tooltip-item-val"},[t._v(t._s(t.selectedRegion["Data-хакатоны"])+" "+t._s(t.declOfNum(t.selectedRegion["Data-хакатоны"],["участник","участника","участников"]))+" ")]):a("span",{staticClass:"tooltip-item-val"},[t._v("-")])]),a("div",{staticClass:"tooltip-item"},[t._v(" Data-debatЫ "),t.selectedRegion["Data-debatЫ"]?a("span",{staticClass:"tooltip-item-val"},[t._v(" "+t._s(t.selectedRegion["Data-debatЫ"])+" "+t._s(t.declOfNum(t.selectedRegion["Data-debatЫ"],["участник","участника","участников"]))+" ")]):a("span",{staticClass:"tooltip-item-val"},[t._v("-")])]),a("div",{staticClass:"tooltip-item"},[t._v(" Количество команд победителей из региона "),t.selectedRegion["Количество команд победителей из региона"]?a("span",{staticClass:"tooltip-item-val"},[t._v(t._s(t.selectedRegion["Количество команд победителей из региона"])+" "+t._s(t.declOfNum(t.selectedRegion["Количество команд победителей из региона"],["команда","команды","команд"]))+" ")]):a("span",{staticClass:"tooltip-item-val"},[t._v("-")])])]):t._e()])]):t._e(),a("el-select",{staticClass:"rating-select",attrs:{placeholder:"Категории рейтинга"},model:{value:t.selectedRating,callback:function(e){t.selectedRating=e},expression:"selectedRating"}},t._l(t.ratingSorts,(function(e){return a("el-option",{key:e.field,attrs:{label:e.title||e.field,value:e.field}},["Общий рейтинг"===e.title?a("strong",[t._v(t._s(e.title))]):a("span",[t._v(t._s(e.title))])])})),1),a("el-select",{staticClass:"fed-select",attrs:{placeholder:"Федеральный округ"},model:{value:t.selectedFed,callback:function(e){t.selectedFed=e},expression:"selectedFed"}},[a("el-option",{attrs:{label:"Все федеральные округа",value:null}}),t._l(t.fedArr,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],2),t.top10Arr.length?a("div",{staticClass:"top-10"},[a("h3",[t._v("ТОП-10")]),t._l(t.top10Arr,(function(e,n){return a("div",{key:e["Субъект РФ"],staticClass:"top-10-item",class:{active:e.title===t.overReg},on:{mouseover:function(a){return t.onOver(e,n,a)},mouseout:function(e){return t.onOver(null,n)},mouseleave:function(e){return t.onOver(null,n)},click:function(a){return t.goToRegion(e)}}},[a("div",{staticClass:"top-10-icon"},[t._v(" "+t._s(n+1)+" ")]),t._v(" "+t._s(e["Субъект РФ"])+" ")])}))],2):t._e(),a("div",{staticClass:"map-controls"},[a("button",{staticClass:"map-zoom-in",attrs:{type:"button",title:"zoom in"},on:{click:t.zoomIn}},[t._v(" + ")]),a("button",{staticClass:"map-zoom-out",attrs:{type:"button",title:"zoom out"},on:{click:t.zoomOut}},[t._v(" - ")])])],1)},T=[],M=(a("4de4"),a("7db0"),a("4160"),a("d81d"),a("13d5"),a("fb6a"),a("b64b"),a("d3b7"),a("6062"),a("3ca3"),a("159b"),a("ddb0"),a("3835")),z=a("5530"),E=a("2909"),N=(a("96cf"),a("1da1")),P=a("b9e8"),$=a.n(P),I=a("2c0f"),L=a.n(I),H=a("bc3a"),J=a.n(H),G=new $.a,Z={components:{SvgPanZoom:L.a},created:function(){return Object(N["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},data:function(){return{loading:!0,mapDiv$:null,centers:[],colorGradient:G,svgpanzoom:null,regionsObj:{},regions:[],overReg:null,selectedFed:null,tooltipTimer:null,selectedRating:"Место в рейтинге",ratingSort:"asc",ratingField:"Место в рейтинге",ratingFieldTitle:"Общий рейтинг",showTooltip:!1,ratingSorts:[{title:"Общий рейтинг",field:"Место в рейтинге",sort:"asc"},{title:"Рейтинг регионов по задачам",field:"Место по задачам",sort:"asc"},{title:"Ретинг по развитию сообщества",field:"Место по сообществам",sort:"asc"},{title:"Рейтинг по внедрению",field:"Место по внедрениям",sort:"asc"}]}},mounted:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.listenPostMessage(function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=JSON.parse(a.data),"loadData"!==n.event){e.next=5;break}return e.next=5,t.init(n.data);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),window.top.postMessage(JSON.stringify({event:"loaded"}),"*"),"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&""!==location.hostname){e.next=8;break}return e.t0=t,e.next=6,t.loadsStatsData();case 6:e.t1=e.sent,e.t0.init.call(e.t0,e.t1);case 8:case"end":return e.stop()}}),e)})))()},watch:{selectedRating:function(t){var e=this.ratingSorts.find((function(e){return e.field===t}));this.ratingSort=e.sort,this.ratingField=e.field,this.ratingFieldTitle=e.title}},computed:{ratingType:function(){switch(this.selectedRating){case"Место по задачам":return 1;case"Место по сообществам":return 3;case"Место по внедрениям":return 2;default:return 0}},showCenters:function(){var t=this;return this.centers.filter((function(e){return t.top10[e.elem["Субъект РФ"]]&&!e.elem.hidenum}))},maxRating:function(){var t=this;return this.regions.reduce((function(e,a){return+a[t.ratingField]>e?+a[t.ratingField]:e}),0)},fedArr:function(){return Object(E["a"])(new Set(this.regionDataArr.map((function(t){return t["Фед округ"]}))))},colorArr:function(){return this.colorGradient?(this.colorGradient.setGradient("asc"===this.ratingSort?"#505aea":"#dedede","#a9aee8","asc"===this.ratingSort?"#dedede":"#505aea"),this.colorGradient.setMidpoint(this.maxRating),this.colorGradient.getArray()):[]},selectedRegion:function(){return this.regionsObj[this.overReg]},sortedRegions:function(){var t=this;return Object(E["a"])(this.regions).sort((function(t,e){return t["Субъект РФ"]-e["Субъект РФ"]})).sort((function(e,a){var n=e[t.ratingField]||1/0,i=a[t.ratingField]||1/0;return n-i}))},coloredRegions:function(){var t=this;return this.sortedRegions.map((function(e,a){var n=void 0,i=!1,s=void 0;return n=e[t.ratingField]?t.colorArr[e[t.ratingField]-1]:t.colorArr[t.maxRating],t.selectedFed&&e["Фед округ"]!==t.selectedFed&&(n="#fefefe",s="#dedede",i=!0),t.selectedFed&&(e["Фед округ"],t.selectedFed),t.top10[e["Субъект РФ"]],Object(z["a"])(Object(z["a"])({},e),{},{stroke:s,fill:n,disable:i})}))},regionDataArr:function(){var t=this;return Object.keys(this.regionsObj).map((function(e){return t.regionsObj[e]})).sort((function(e,a){var n=e[t.ratingField]?+e[t.ratingField]:"asc"===t.ratingSort?1/0:0,i=a[t.ratingField]?+a[t.ratingField]:"asc"===t.ratingSort?1/0:0;return"asc"===t.ratingSort?n-i:i-n}))},top10:function(){var t=this;return this.top10Arr.reduce((function(e,a){return e[a["Субъект РФ"]]=a[t.ratingField],e}),{})},top10Arr:function(){var t=this;return this.regionDataArr.slice(0,10).filter((function(e){return!t.selectedFed||e["Фед округ"]===t.selectedFed}))}},methods:{init:function(t){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("loadData",t),a.next=3,e.loadData(t);case 3:return n=a.sent,i=n.mapData,s=n.regionsData,s.forEach((function(t){var e=i.find((function(e){return e.title===t["Субъект РФ"]}));e?Object.assign(e,t):console.log(t["Субъект РФ"])})),r=s.reduce((function(t,e){return t[e["Субъект РФ"]]=e,e.title=e["Субъект РФ"],t}),{}),l=i.filter((function(t){return!!r[t.title]})),i.forEach((function(t){Object.assign(t,r[t.title])})),e.regions=l,e.regionsObj=r,a.next=14,e.$nextTick();case 14:e.loading=!1;case 15:case"end":return a.stop()}}),a)})))()},loadsStatsData:function(){return Object(N["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J.a.get("./data/regions.json");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},goToRegion:function(t){window.top.postMessage(JSON.stringify({event:"redirect",data:encodeURI(t["Субъект РФ"])}),"*")},listenPostMessage:function(t){window.addEventListener("message",t),this.onDestroy=function(){window.removeEventListener("message",t)}},loadData:function(t){return Object(N["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=J.a.get("./data/map.json"),e.next=3,Promise.all([a]);case 3:return n=e.sent,i=Object(M["a"])(n,1),s=i[0],e.abrupt("return",{mapData:s.data,regionsData:t});case 7:case"end":return e.stop()}}),e)})))()},getCenter:function(t){var e=t.x,a=t.y,n=t.width,i=t.height,s={x:e+n/2,y:a+i/2};return s},registerSvgPanZoom:function(t){var e=this;this.svgpanzoom=t,this.svgpanzoom.zoom(.89),this.svgpanzoom.pan({x:15,y:130});var a=this.$refs.path;this.centers=a.map((function(t,a){var n=t.getBBox(),i=Object(z["a"])(Object(z["a"])({},e.getCenter(n)),{},{width:n.width,height:n.height,elem:e.coloredRegions[a]});return i})).sort((function(t,e){return t.y-e.y})),this.mapDiv$=this.$refs.mapDiv},center:function(){this.svgpanzoom&&this.svgpanzoom.center()},zoomIn:function(){this.svgpanzoom.zoomIn()},zoomOut:function(){this.svgpanzoom.zoomOut()},clearOver:function(){this.overReg=null},onClick:function(t){t&&(this.overReg===t.title?this.overReg=null:this.overReg=t.title)},onOver:function(t,e,a){t?(this.overReg=t.title,this.show()):(clearTimeout(this.tooltipTimer),this.showTooltip=!1,this.overReg=null)},show:function(){var t=this;clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout((function(){t.showTooltip=!0}),300)},declOfNum:function(t,e){var a=[2,0,1,1,1,2];return e[t%100>4&&t%100<20?2:a[t%10<5?t%10:5]]}}},B=Z,q=(a("894b"),a("159d"),Object(x["a"])(B,F,T,!1,null,"880a2ed6",null)),U=q.exports,K={name:"App",components:{Map:U}},Q=K,V=Object(x["a"])(Q,S,A,!1,null,null,null),W=V.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"region"},[a("h1",{staticClass:"region_title"},[a("div",{staticClass:"region_name"},[t._v(" "+t._s(t.regionName)+" - место в общем рейтинге "),t.regionRank?a("span",{staticClass:"region_rank",attrs:{title:t.regionRank+" место в общем рейтинге"}},[t._v(t._s(t.regionRank.sum))]):t._e()]),a("a",{staticClass:"set-button",attrs:{target:"_parent",href:"https://datamasters.ru/create-task",type:"button"}},[t._v(" Поставить задачу на 2021 год ")])]),!t.loading&&t.regionActivity?a("div",{staticClass:"region_content"},[a("h3",{staticClass:"region_subtitle"},[t._v(" Детализация рейтинга ")]),a("table",{staticClass:"app-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t._m(0),a("tbody",{staticClass:"app-table_body"},[a("tr",{staticClass:"app-table_row"},[a("td",{staticClass:"app-table_cell"},[t.regionRank.tasks?[a("strong",{staticClass:"region_rank small"},[t._v(t._s(t.regionRank.tasks))]),t._v(" место ")]:[t._v("-")]],2),a("td",{staticClass:"app-table_cell"},[t.regionRank.implementation?[a("strong",{staticClass:"region_rank small"},[t._v(t._s(t.regionRank.implementation))]),t._v(" место ")]:[t._v("-")]],2),a("td",{staticClass:"app-table_cell"},[t.regionRank.community?[a("strong",{staticClass:"region_rank small"},[t._v(t._s(t.regionRank.community))]),t._v(" место ")]:[t._v("-")]],2)])])]),a("h3",{staticClass:"region_subtitle"},[t._v(" Задачи, поставленные регионами - место в рейтинге по задачам "),a("strong",{staticClass:"region_rank small"},[t._v(t._s(t.regionRank.tasks))])]),a("table",{staticClass:"app-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t._m(1),a("tbody",{staticClass:"app-table_body"},t._l(t.regionActivity.tasks,(function(e,n){return a("tr",{key:e.year+"_"+n,staticClass:"app-table_row"},[a("td",{staticClass:"app-table_cell"},[a("div",{staticClass:"app-table_year"},[t._v(" "+t._s(e.year)+" ")])]),a("td",{staticClass:"app-table_cell"},[t._v(t._s(e.assigned||"-"))]),a("td",{staticClass:"app-table_cell text-left no-padding",attrs:{colspan:"2"}},[e.selected.length?a("table",{attrs:{width:"100%"}},t._l(e.selected,(function(n,i){return a("tr",{key:i,staticClass:"app-table_row"},[a("td",{staticClass:"app-table_cell text-left",staticStyle:{width:"50%"}},[e.selected.length?t._e():a("span",[t._v("-")]),a("ul",{staticClass:"app-table_list"},[a("li",{staticClass:"app-table_list-item",class:{"with-link":n.link}},[a("a",{staticClass:"sol-link",attrs:{href:n.link,target:"_blank"}},[t._v(t._s(n.name))])])])]),a("td",{staticClass:"app-table_cell text-left",staticStyle:{width:"50%"}},[e.solvedMap[n.name]?t._e():a("span",[t._v("-")]),e.solvedMap[n.name]?a("div",{staticClass:"app-table_list-item",class:{"with-link":n.link}},[a("a",{staticClass:"sol-link",attrs:{href:e.solvedMap[n.name].link,target:"_blank"}},[t._v(t._s(e.solvedMap[n.name].name))])]):t._e()])])})),0):a("table",{attrs:{width:"100%"}},[t._m(2,!0)])])])})),0)]),a("h3",{staticClass:"region_subtitle"},[t._v(" Внедренные цифровые решения - место в рейтинге по внедрению "),a("strong",{staticClass:"region_rank small"},[t._v(t._s(t.regionRank.implementation))])]),a("table",{staticClass:"app-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t._m(3),a("tbody",{staticClass:"app-table_body"},t._l(t.regionActivity.implementation,(function(e,n){return a("tr",{key:e.year+"_"+n,staticClass:"app-table_row"},[a("td",{staticClass:"app-table_cell"},[a("div",{staticClass:"app-table_link"},[a("a",{staticClass:"sol-link",attrs:{href:e.link,target:"_blank"}},[a("span",{staticClass:"app-table_rank"},[t._v(" "+t._s(e.rank)+" ")]),t._v(" "+t._s(e.name)+" ("+t._s(e.year)+")")])])]),a("td",{staticClass:"app-table_cell"},[e.isMentor?a("i",{staticClass:"app-table_checked"}):a("span",[t._v("-")])]),a("td",{staticClass:"app-table_cell"},[e.smartekaLink?a("div",{staticClass:"app-table_list"},[a("div",{staticClass:"app-table_list-item",class:{"with-link":e.smartekaLink}},[a("a",{staticClass:"sol-link",attrs:{href:e.smartekaLink,target:"_blank"}},[t._v("ссылка")])])]):a("span",[t._v("-")])])])})),0)]),a("h3",{staticClass:"region_subtitle"},[t._v(" Развитие дата-сообществ - место в рейтинге по развитию сообщества "),a("strong",{staticClass:"region_rank small"},[t._v(t._s(t.regionRank.community))])]),a("table",{staticClass:"app-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t._m(4),a("tbody",{staticClass:"app-table_body"},t._l(t.regionActivity.community,(function(e){return a("tr",{key:e.year,staticClass:"app-table_row"},[a("td",{staticClass:"app-table_cell"},[a("div",{staticClass:"app-table_year"},[t._v(" "+t._s(e.year)+" ")])]),a("td",{staticClass:"app-table_cell"},[e.year<2020?[e.dataHack?a("i",{staticClass:"app-table_checked"}):a("span",[t._v("-")])]:t._e(),e.year>=2020?[t._v(" "+t._s(e.dataHack||"-")+" ")]:t._e()],2),a("td",{staticClass:"app-table_cell"},[t._v(" "+t._s(e.dataDebates.length||"-")+" ")]),a("td",{staticClass:"app-table_cell  text-left"},[e.teams.length?t._e():a("span",[t._v("-")]),a("div",{staticClass:"app-table_list"},t._l(e.teams,(function(e,n){return a("div",{key:n,staticClass:"app-table_list-item app-table_link-icon"},[a("a",{staticClass:"sol-link",attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.rank?e.rank+".":"")+" "+t._s(e.name))])])})),0)])])})),0)]),a("br")]):t._e()])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"app-table_head"},[a("tr",{staticClass:"app-table_row"},[a("th",{staticClass:"app-table_cell"},[t._v(" Рейтинг по задачам ")]),a("th",{staticClass:"app-table_cell"},[t._v("Рейтинг по внедрению")]),a("th",{staticClass:"app-table_cell"},[t._v(" Рейтинг по развитию сообщества ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"app-table_head"},[a("tr",{staticClass:"app-table_row"},[a("th",{staticClass:"app-table_cell",staticStyle:{width:"90px"}},[t._v("Год")]),a("th",{staticClass:"app-table_cell",staticStyle:{width:"120px"}},[t._v(" Задач поставлено ")]),a("th",{staticClass:"app-table_cell text-left",attrs:{colspan:"2"}},[a("table",{attrs:{width:"100%"}},[a("tr",[a("td",{staticStyle:{width:"50%"}},[t._v("Задач отобрано")]),a("td",{staticStyle:{width:"50%"}},[t._v("Решения для задач")])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"app-table_row"},[a("td",{staticClass:"app-table_cell text-left",staticStyle:{width:"50%"}},[a("span",[t._v("-")])]),a("td",{staticClass:"app-table_cell text-left",staticStyle:{width:"50%"}},[a("span",[t._v("-")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"app-table_head"},[a("tr",{staticClass:"app-table_row"},[a("th",{staticClass:"app-table_cell text-left"},[t._v("Решений внедрено")]),a("th",{staticClass:"app-table_cell",staticStyle:{width:"190px"}},[t._v(" Цифровой наставник ")]),a("th",{staticClass:"app-table_cell",staticStyle:{width:"250px"}},[t._v(" Разместил цифровую практику на СМАРТЕКЕ ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"app-table_head"},[a("tr",{staticClass:"app-table_row"},[a("th",{staticClass:"app-table_cell",staticStyle:{width:"90px"}},[t._v("Год")]),a("th",{staticClass:"app-table_cell",staticStyle:{width:"150px"}},[t._v("Data-хакатоны")]),a("th",{staticClass:"app-table_cell",staticStyle:{width:"150px"}},[t._v("Data-дебаты")]),a("th",{staticClass:"app-table_cell text-left"},[t._v(" Команды победители из региона ")])])])}],tt=(a("ac1f"),a("498a"),a("9911"),{"Задачи, прошедшие во 2 этап":"selected","Поставленные задачи":"assigned","Решённые задачи":"solved","Команды-победители":"teams","Внедрённые решения":"injected","Data-DebatЫ":"debates","Субъект РФ":"name","Фед округ":"district","Цифровой наставник":"mentor","Решения в СМАРТЕКЕ":"smarteka","Участие в data-хакатоне":"hack"}),et={name:"App",props:["regionName"],data:function(){return{loading:!0,regionAllData:null,activity:null,tabPosition:"projectFeedback",onDestroy:function(){}}},created:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.listenPostMessage(function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=JSON.parse(a.data),"loadData"!==n.event){e.next=5;break}return e.next=5,t.loadData({activity:n.data.activity,region:n.data.region});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),window.top.postMessage(JSON.stringify({event:"loaded"}),"*"),"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&""!==location.hostname){e.next=12;break}return e.t0=t,e.next=6,t.loadActivity();case 6:return e.t1=e.sent,e.next=9,t.loadsStatsData();case 9:e.t2=e.sent,e.t3={activity:e.t1,region:e.t2},e.t0.loadData.call(e.t0,e.t3);case 12:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.onDestroy()},computed:{activityData:function(){var t=this;return this.regionName&&this.activity?this.activity.find((function(e){return e["Субъект РФ"]===t.regionName})):null},regionData:function(){var t=this;return this.regionAllData?this.regionAllData.find((function(e){return e["Субъект РФ"]===t.regionName})):null},regionRank:function(){return this.regionData?{sum:this.regionData["Место в рейтинге"],tasks:this.regionData["Место по задачам"],community:this.regionData["Место по сообществам"],implementation:this.regionData["Место по внедрениям"]}:null},regionActivity:function(){var t=this,e={},a=new Set,n=Array.isArray(this.activity)?this.activity.find((function(e){return e["Субъект РФ"]===t.regionName})):null;for(var i in n)Object.hasOwnProperty.call(n,i)&&function(){var t=n[i],s=/([0-9]{4})\: (.+)/g.exec(i);if(s){var r,l=s[2].trim();e[tt[l]]||(e[tt[l]]=[]),(r=e[tt[l]]).push.apply(r,Object(E["a"])((Array.isArray(t)?t:null!=t?[t]:[]).map((function(t){return"number"===typeof t?{year:+s[1]||null,value:t}:{rank:t["Номер"]?+t["Номер"]:null,name:t["Заголовок"]||null,link:t["Ссылка"]||null,linkId:t["Ссылка-идентификатор"]||null,smartekaLink:null,year:+s[1]||null}})))),a.add(+s[1]||null)}else e[tt[i]]=Array.isArray(t)?t.map((function(t){return{rank:t["Номер"]?+t["Номер"]:null,name:t["Заголовок"]||null,link:t["Ссылка"]||null,linkId:t["Ссылка-идентификатор"]||null}})):t}();var s=[],r={},l={},o={};Array.isArray(e.smarteka)&&(o=e.smarteka.reduce((function(t,e){return e.linkId?t[e.linkId]=e:console.log("Нет ссылки идентификатора",e),t}),{})),Array.isArray(e.mentor)&&(l=e.mentor.reduce((function(t,e){return e.link?t[e.link]=e:console.log("Нет ссылки идентификатора",e),t}),{})),Array.isArray(e.injected)&&e.injected.forEach((function(t){t.link?(r[t.link]=t,o[t.link]&&(t.smartekaLink=o[t.link].link),l[t.link]&&(t.isMentor=!0),s.push(t)):console.error("Отсутствует ссылка:",t)})),console.log(e),e.debates=(e.debates||[]).map((function(t){return Object(z["a"])(Object(z["a"])({},t),{},{year:t.year||2020})})),e.hack=(e.hack||[]).map((function(t){return Object(z["a"])(Object(z["a"])({},t),{},{year:t.year||2020})})),console.log(e.hack);var c=Object(E["a"])(a).map((function(t){return{year:t,dataDebates:(e.debates||[]).filter((function(e){return e.year===t})),dataHack:((e.hack||[]).find((function(e){return e.year===t}))||{}).value||0,teams:e.teams.filter((function(e){return e.year===t}))}})),u=Object(E["a"])(a).map((function(t){return{year:t,assigned:(e.assigned||[]).filter((function(e){return e.year===t})).length,selected:e.selected.filter((function(e){return e.year===t})),solved:e.solved.filter((function(e){return e.year===t})),solvedMap:e.selected.reduce((function(a,n){return n.name&&n.year===t&&(a[n.name]=e.solved.find((function(e){return e.year===t&&e.name===n.name}))),a}),{})}}));return{tasks:u.sort((function(t,e){return e.year-t.year})),implementation:s,community:c.sort((function(t,e){return e.year-t.year}))}}},methods:{loadsStatsData:function(){return Object(N["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J.a.get("./data/regions.json");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},listenPostMessage:function(t){window.addEventListener("message",t),this.onDestroy=function(){window.removeEventListener("message",t)}},loadActivity:function(){return Object(N["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J.a.get("./data/activity.json");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},loadRegions:function(){return Object(N["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J.a.get("./data/regions.json");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},loadData:function(t){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.activity=t.activity,e.regionAllData=t.region,e.loading=!1;case 3:case"end":return a.stop()}}),a)})))()}}},at=et,nt=(a("c6cf"),Object(x["a"])(at,X,Y,!1,null,"2159d6b7",null)),it=nt.exports;h["default"].use(D["a"]);var st=[{path:"/",name:"Home",component:W},{path:"/region",component:it,props:function(t){return{regionName:t.query.regionName}}}],rt=new D["a"]({routes:st,scrollBehavior:function(t,e,a){return{x:0,y:0}}}),lt=rt;h["default"].use(b["a"]),h["default"].use(_["a"]),h["default"].component(m.a.name,m.a),h["default"].component(g.a.name,g.a),h["default"].component(p.a.name,p.a),h["default"].component(u.a.name,u.a),h["default"].component(o.a.name,o.a),h["default"].component(r.a.name,r.a),h["default"].component(i.a.name,i.a),h["default"].config.productionTip=!1,new h["default"]({router:lt,render:function(t){return t(j)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"684f":function(t,e,a){},"894b":function(t,e,a){"use strict";a("a8f9")},"9c0c":function(t,e,a){},a8f9:function(t,e,a){},c6cf:function(t,e,a){"use strict";a("684f")}});
//# sourceMappingURL=app.c2223faf.js.map