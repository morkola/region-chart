(function(t){function e(e){for(var r,s,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1390:function(t,e,a){},4256:function(t,e,a){"use strict";a("1390")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("7a27"),a("78ae"),a("7115"),a("cd8e");var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ccv-simple-bar-chart",{attrs:{data:t.chartData,options:t.options}})},n=[],i={name:"Chart",components:{},props:["data","title","leftTitle","bottomTitle","height"],computed:{chartData:function(){return this.data||[]},options:function(){return{title:this.title,axes:{left:{title:this.bottomTitle,mapsTo:"key",scaleType:"labels"},bottom:{mapsTo:"value",title:this.leftTitle,scaleType:"linear"}},curve:"curveMonotoneX",height:this.height||"500px"}}}},s=i,o=a("2877"),l=Object(o["a"])(s,r,n,!1,null,null,null),c=l.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ccv-pie-chart",{attrs:{data:t.chartData,options:t.options}})},d=[],h={name:"Chart",components:{},props:["data","title","leftTitle","bottomTitle","height"],computed:{chartData:function(){return this.data||[]},options:function(){return{title:this.title,legend:!1,pie:{alignment:"center"},height:this.height||"500px"}}}},p=h,v=Object(o["a"])(p,u,d,!1,null,null,null),f=v.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ccv-grouped-bar-chart",{attrs:{data:t.chartData,options:t.options}})},b=[],g={name:"Chart",components:{},props:["data","title","leftTitle","bottomTitle","height"],computed:{chartData:function(){return this.data||[]},options:function(){return{title:this.title,axes:{left:{title:this.bottomTitle,mapsTo:"key",scaleType:"labels"},bottom:{mapsTo:"value",title:this.leftTitle,scaleType:"linear"}},curve:"curveMonotoneX",height:this.height||"500px"}}}},_=g,y=Object(o["a"])(_,m,b,!1,null,null,null),C=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ccv-line-chart",{attrs:{data:t.chartData,options:t.options}})},k=[],T={name:"Chart",components:{},props:["data","title","leftTitle","bottomTitle","height"],computed:{chartData:function(){return this.data||[]},options:function(){return{title:this.title,axes:{bottom:{title:this.bottomTitle,mapsTo:"key",scaleType:"time"},left:{mapsTo:"value",title:this.leftTitle,scaleType:"linear"}},curve:"curveMonotoneX",height:this.height||"500px"}}}},j=T,S=Object(o["a"])(j,x,k,!1,null,null,null),w=S.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ccv-stacked-bar-chart",{attrs:{data:t.chartData,options:t.options}})},O=[],V={name:"Chart",components:{},props:["data","title","leftTitle","bottomTitle","height"],computed:{chartData:function(){return this.data||[]},options:function(){return{title:this.title,axes:{left:{title:this.bottomTitle,mapsTo:"key",scaleType:"labels"},bottom:{mapsTo:"value",title:this.leftTitle,scaleType:"linear",stacked:!0}},resizable:!0,curve:"curveMonotoneX",height:this.height||"500px"}}}},D=V,W=Object(o["a"])(D,E,O,!1,null,null,null),M=W.exports,P=a("1798"),$=a.n(P),R=a("2b0e"),z=a("00e7"),B=a.n(z),X=a("1567"),A=a.n(X),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},G=[],H={name:"App"},J=H,I=a("6544"),Y=a.n(I),q=a("7496"),F=a("f6c4"),K=Object(o["a"])(J,L,G,!1,null,null,null),N=K.exports;Y()(K,{VApp:q["a"],VMain:F["a"]});var Q=a("f309");R["a"].use(Q["a"]);var U=new Q["a"]({}),Z=a("8c4f"),tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[t.loading?a("v-col",{staticClass:"text-center text-h3",attrs:{xl:"10"}},[t._v(" Загрузка... ")]):t._e(),t.loading?t._e():a("v-col",{attrs:{md:"8"}},[a("v-card",{staticClass:"mb-6 mt-6",attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"justify-center text-center text-h4 mb-4"},[t._v(" Сервисы ")]),a("v-row",{attrs:{justify:"center"}},[t.servicesChart?a("MyBarChart",{attrs:{items:t.servicesChart.items,legend:t.servicesChart.legend}}):t._e()],1)],1),t.selectedService&&t.visitsChart?a("v-card",{key:t.selectedService,staticClass:"mb-6 mt-6",attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"justify-center text-center text-h4 mb-4"},[t._v(" Динамика визитов ")]),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{md:"4"}},[a("v-select",{attrs:{items:t.serviceWithStatistic,"item-value":"name","item-text":"name",hint:"Выберите сервис","persistent-hint":""},on:{change:t.onServiceChange},model:{value:t.selectedService,callback:function(e){t.selectedService=e},expression:"selectedService"}})],1)],1),a("v-row",{staticStyle:{height:"700px"},attrs:{justify:"center"}},[a("zingchart",{attrs:{height:"100%",data:t.visitsChart}})],1)],1):t._e()],1)],1)],1)},et=[],at=(a("4de4"),a("7db0"),a("d81d"),a("b0c0"),a("9911"),a("ade3")),rt=(a("96cf"),a("1da1")),nt=a("bc3a"),it=a.n(nt),st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bar-chart"},[t.legend&&t.legend.length?a("div",{staticClass:"bar-legend"},t._l(t.legend,(function(e){return a("div",{key:e.title,staticClass:"legend-item"},[a("div",{staticClass:"legend-icon",style:{background:e.color}}),t._v(" "+t._s(e.title)+" ")])})),0):t._e(),a("div",{staticClass:"bar-lines"},t._l(t.items,(function(e){return a("div",{key:e.title,staticClass:"bar-row"},[a("div",{staticClass:"bar-left"},[a("div",{staticClass:"bar-title"},[t._v(" "+t._s(e.title)+" "),e.values?[a("strong",{style:{color:t.legend[0].color}},[t._v(t._s(""+e.values[0])+" ")]),t._v(" / "),a("strong",{style:{color:t.legend[1].color}},[t._v(t._s(""+e.values[1]))])]:a("strong",[t._v("Нет данных")]),a("br"),e.link?a("a",{staticClass:"link-icon-href",attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.link)+" "),a("v-icon",{staticClass:"link-icon"},[t._v("mdi-open-in-new")])],1):t._e()],2)]),e.values?a("div",{staticClass:"bar-right"},[t.stacked?[a("div",{staticClass:"bar-line"},[t._l(t.legend,(function(r,n){return[e.values[n]?a("v-tooltip",{key:r.title,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var s=i.on,o=i.attrs;return[a("div",t._g(t._b({staticClass:"bar-line-item",style:{background:r.color,width:t.getPercent(e.values[n]||0)+"%"},attrs:{title:r.title}},"div",o,!1),s))]}}],null,!0)},[a("span",[t._v(t._s(r.title)+": "+t._s(e.values[n])+" ")])]):t._e()]}))],2)]:t._e(),t.stacked?t._e():t._l(t.legend,(function(r,n){return a("div",{key:r.title,staticClass:"bar-line"},[e.values[n]?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var s=i.on,o=i.attrs;return[a("div",t._g(t._b({staticClass:"bar-line-item",style:{background:r.color,width:t.getPercent(e.values[n]||0)+"%"},attrs:{title:r.title}},"div",o,!1),s))]}}],null,!0)},[a("span",[t._v(t._s(r.title)+": "+t._s(e.values[n])+" ")])]):t._e()],1)}))],2):a("div",{staticClass:"bar-right"},[a("span",{staticClass:"error--text"},[t._v(" Нет данных ")])])])})),0)])},ot=[],lt=(a("13d5"),a("d3b7"),a("ddb0"),{props:{legend:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}}},data:function(){return{stacked:!1}},computed:{maxValue:function(){var t=this;return this.items.reduce((function(e,a){var r=t.stacked?(a.values||[]).reduce((function(t,e){return e+t}),0):(a.values||[]).reduce((function(t,e){return e>t?e:t}),0);return e>r?e:r}),0)}},methods:{getPercent:function(t){return this.maxValue?100*t/this.maxValue:0},getSum:function(t){return(t.values||[]).reduce((function(t,e){return e+t}),0)}}}),ct=lt,ut=(a("4256"),a("132d")),dt=a("3a2f"),ht=Object(o["a"])(ct,st,ot,!1,null,"e50c28a8",null),pt=ht.exports;Y()(ht,{VIcon:ut["a"],VTooltip:dt["a"]});var vt={name:"Home",components:{MyBarChart:pt},data:function(){return{servicesChart:null,loading:!0,visitsChart:null,selectedService:null}},created:function(){var t=this;return Object(rt["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,it()("./data.json");case 2:a=e.sent,t.sourceData=a.data.sort((function(t,e){return e.conversion-t.conversion})),t.servicesChart=t.getServicesChart(t.sourceData),t.selectedService=t.serviceWithStatistic[0].name,t.visitsChart=t.getVisitsChart(t.serviceWithStatistic[0]),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},computed:{serviceWithStatistic:function(){return this.sourceData.filter((function(t){return t.statistic&&t.statistic.length}))}},methods:{onServiceChange:function(t){var e=this,a=this.serviceWithStatistic.find((function(e){return e.name===t}));this.selectedService=a.name,this.visitsChart=null,this.$nextTick((function(){e.visitsChart=e.getVisitsChart(a)}))},getVisitsChart:function(t){var e;return e={type:"line",legend:{align:"center",backgroundColor:"none",borderWidth:"0px",item:{cursor:"hand"},marker:{type:"circle",borderWidth:"0px",cursor:"hand"},verticalAlign:"top"},plot:{aspect:"spline",lineWidth:"2px",marker:{borderWidth:"0px",size:"5px"}},plotarea:{margin:"dynamic 70"},tooltip:{borderRadius:"3px",borderWidth:"0px"},preview:{adjustLayout:!0},scaleY:{guide:{lineStyle:"dashed"},item:{fontColor:"#E3E3E5"},lineColor:"#E3E3E5",minorGuide:{alpha:.7,lineColor:"#E3E3E5",lineStyle:"dashed",lineWidth:"1px",visible:!0},minorTick:{lineColor:"#E3E3E5"},minorTicks:1,tick:{lineColor:"#E3E3E5"}},crosshairX:{marker:{alpha:.5,size:"7px"},plotLabel:{borderRadius:"3px",multiple:!0},scaleLabel:{backgroundColor:"#53535e",borderRadius:"3px"}},scaleX:{zooming:!0}},Object(at["a"])(e,"tooltip",{borderRadius:"3px",borderWidth:"0px"}),Object(at["a"])(e,"preview",{adjustLayout:!0}),Object(at["a"])(e,"series",[{text:t.name,values:t.statistic.map((function(t){return[t.date,t.value]}))}]),e},getServicesChart:function(t){return{items:t.map((function(t){return{title:t.name,link:t.link,values:null!=t.conversion||null!==t.visitors?[t.conversion,t.visitors]:null}})),legend:[{title:"Переходы",color:"#32dcac"},{title:"Посетители",color:"#505aea"}]}}}},ft=vt,mt=a("b0af"),bt=a("99d9"),gt=a("62ad"),_t=a("a523"),yt=a("0fd9"),Ct=a("b974"),xt=Object(o["a"])(ft,tt,et,!1,null,null,null),kt=xt.exports;Y()(xt,{VCard:mt["a"],VCardTitle:bt["a"],VCol:gt["a"],VContainer:_t["a"],VRow:yt["a"],VSelect:Ct["a"]}),R["a"].use(Z["a"]);var Tt=[{path:"/",name:"Home",component:kt}],jt=new Z["a"]({routes:Tt,scrollBehavior:function(t,e,a){return{x:0,y:0}}}),St=jt;R["a"].use(B.a),R["a"].use($.a),R["a"].config.productionTip=!1,R["a"].component("zingchart",A.a),R["a"].component("DonutChart",f),R["a"].component("LinesChart",w),R["a"].component("BarChart",c),R["a"].component("StackedBarChart",M),R["a"].component("GroupedBarChart",C),new R["a"]({router:St,vuetify:U,render:function(t){return t(N)}}).$mount("#app")}});
//# sourceMappingURL=app.7155f6b0.js.map